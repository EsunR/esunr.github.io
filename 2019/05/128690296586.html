<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Canvas快速使用教程"><meta name="keywords" content="快速使用,HTML5"><meta name="author" content="EsunR"><meta name="copyright" content="EsunR"><title>Canvas快速使用教程 | EsunR-Blog</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?31bd12722efcf47cb7d0d576bf150215";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-3RG97DCL3N"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-3RG97DCL3N');</script><script src="https://v1.hitokoto.cn/?encode=js&amp;charset=utf-8&amp;select=.footer_custom_text" defer></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '6.2.0'
} </script><meta name="generator" content="Hexo 6.2.0"></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Canvas%E6%A6%82%E8%BF%B0"><span class="toc-text">Canvas概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%B8%8EFlas%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">1. 与Flas的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BACanvas%E7%94%BB%E5%B8%83%E6%A0%87%E7%AD%BE"><span class="toc-text">2. 创建Canvas画布标签</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E7%94%A8Javascript%E6%93%8D%E4%BD%9C2D%E7%94%BB%E5%B8%83"><span class="toc-text">3. 用Javascript操作2D画布</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-API"><span class="toc-text">4. API</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%94%E8%A7%A6%E3%80%81%E5%A1%AB%E5%85%85"><span class="toc-text">笔触、填充</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%AE%80%E8%BF%B0"><span class="toc-text">1. 简述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E7%BB%98%E5%88%B6%E8%B7%AF%E5%BE%84"><span class="toc-text">3. 绘制路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E7%BB%98%E5%88%B6%E6%A0%B7%E5%BC%8F"><span class="toc-text">4. 绘制样式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%BF%AB%E9%80%9F%E7%BB%98%E5%88%B6"><span class="toc-text">6. 快速绘制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E7%BB%98%E5%88%B6%E5%A4%8D%E6%9D%82%E5%9B%BE%E5%83%8F"><span class="toc-text">6. 绘制复杂图像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-API"><span class="toc-text">7. API</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%A7"><span class="toc-text">弧</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%BB%98%E5%88%B6%E5%BC%A7%E7%BA%BF"><span class="toc-text">1. 绘制弧线</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-API"><span class="toc-text">2. API</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E6%B8%90%E5%8F%98"><span class="toc-text">绘制渐变</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E6%B8%90%E5%8F%98%E8%89%B2"><span class="toc-text">1. 创建渐变色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-API-1"><span class="toc-text">2. API</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E5%AD%97"><span class="toc-text">文字</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%B7%BB%E5%8A%A0%E6%96%87%E5%AD%97"><span class="toc-text">1. 添加文字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%B0%83%E6%95%B4%E6%A0%B7%E5%BC%8F"><span class="toc-text">2. 调整样式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9B%BE%E7%89%87"><span class="toc-text">使用图片</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%B7%BB%E5%8A%A0%E5%9B%BE%E7%89%87"><span class="toc-text">1. 添加图片</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-API-2"><span class="toc-text">2. API</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%90%E5%8A%A8"><span class="toc-text">运动</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%8E%9F%E7%90%86"><span class="toc-text">1. 原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%88%B6%E5%8F%98%E6%88%90%E4%BD%9C%E8%BF%90%E5%8A%A8%E5%87%BD%E6%95%B0"><span class="toc-text">2. 面向对象制变成作运动函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8ES6%E6%9D%A5%E8%AF%A6%E7%BB%86%E6%9D%A5%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E7%BC%96%E5%86%99%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0"><span class="toc-text">3. 使用ES6来详细来面向对象编程编写动画函数</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://esunr-webapp.cdn.bcebos.com/blog/avatar.jpeg?x-bce-process=image/resize,m_lfit,w_200/format,f_auto" alt="avatar"></div><div class="author-info__name text-center">EsunR</div><div class="author-info__description text-center">EsunR-Blog是由EsunR维护的博客平台，分享在前端开发、Git、Vue.js、Webpack、OAuth、Linux等各个领域的知识和经验。浏览这里的深入文章，了解不同主题的见解，并及时了解行业的最新趋势和技术。</div><div class="follow-button"><a target="_blank" rel="noopener" href="https://github.com/EsunR">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">170</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">151</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">25</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://esunr-webapp.cdn.bcebos.com/blog/background.png?x-bce-process=image/quality,q_80/format,f_auto)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">EsunR-Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"><span class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></span></span></div><div id="post-info"><div id="post-title">Canvas快速使用教程</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-05-03</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/Javascript/">Javascript</a><span class="post-meta__separator">|</span><i class="fa fa-comment-o post-meta__icon" aria-hidden="true"></i><a href="/2019/05/128690296586.html#disqus_thread"><span class="disqus-comment-count" data-disqus-identifier="2019/05/128690296586.html"></span></a><div class="post-meta-wordcount"><span>Word count: </span><span class="word-count">2k</span><span class="post-meta__separator">|</span><span>Reading time: 8 min</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="Canvas概述"><a href="#Canvas概述" class="headerlink" title="Canvas概述"></a>Canvas概述</h1><h2 id="1-与Flas的区别"><a href="#1-与Flas的区别" class="headerlink" title="1. 与Flas的区别"></a>1. 与Flas的区别</h2><p>Canvas 和Flash的思路完全不一样，Flash是上屏幕之后还是对象，编程语言叫做 Action Script 也是ECMAScript范畴。Canvas上屏幕之后像素化了，再也不能得到这个对象了，所以要想让这个元素运动，必须擦除整个屏幕、重绘这个元素。Canvas更流畅，手机端也嗷嗷流畅。</p>
<h2 id="2-创建Canvas画布标签"><a href="#2-创建Canvas画布标签" class="headerlink" title="2. 创建Canvas画布标签"></a>2. 创建Canvas画布标签</h2><p>显示默认提醒消息：如果浏览器不支持Canvas，Canvas会被默认渲染为普通标签显示文字</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">width</span>=<span class="string">&quot;200px&quot;</span> <span class="attr">height</span>=<span class="string">&quot;200px&quot;</span>&gt;</span>对不起您的浏览器不支持画布！<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>注意：Canvas有一个默认宽高，大概为<code>300 x 150</code>，如果我们用CSS样式去设置Canvas的宽高，会导致画布扭曲，必须在Canvas标签内部，以属性的方式去添加宽高值。</p>
<h2 id="3-用Javascript操作2D画布"><a href="#3-用Javascript操作2D画布" class="headerlink" title="3. 用Javascript操作2D画布"></a>3. 用Javascript操作2D画布</h2><p>首先要获取到画布对象：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;800px&quot;</span> <span class="attr">height</span>=<span class="string">&quot;500px&quot;</span>&gt;</span>对不起您的浏览器不支持画布！<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> myCanvas = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#myCanvas&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>获取到画布后，使用画布对象上的 <code>.getContext()</code> 方法新建一个画布</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置上下文，就相当于打开ps之后让你新建画布</span></span><br><span class="line"><span class="keyword">var</span> ctx = myCanvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>之后就可以对画布进行详细的样式操作（要在绘制动作前设置样式），如设置背景颜色：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.<span class="property">fillStyle</span> = <span class="string">&quot;pink&quot;</span></span><br></pre></td></tr></table></figure>

<p>设置完样式之后就可以进行绘制操作，如绘制成一个矩形（Rect）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ctx.<span class="title function_">fillRect</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">300</span>, <span class="number">200</span>)</span><br><span class="line"><span class="comment">// fillRect方法中的参数为设置绘制点的坐标，单位为px</span></span><br></pre></td></tr></table></figure>

<h2 id="4-API"><a href="#4-API" class="headerlink" title="4. API"></a>4. API</h2><p>方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fillRect(a, b, c, d) 绘制一个填充矩形，abcd分别为四个坐标</span><br></pre></td></tr></table></figure>

<p>属性：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fillStyle 设置填充颜色；</span><br></pre></td></tr></table></figure>

<h1 id="笔触、填充"><a href="#笔触、填充" class="headerlink" title="笔触、填充"></a>笔触、填充</h1><h2 id="1-简述"><a href="#1-简述" class="headerlink" title="1. 简述"></a>1. 简述</h2><p>笔触也叫作“描边”，Canvas中的任何形状都是由这两个部分组成的。</p>
<p>笔触在canvas中视为一个“Path”的实例，必须stroke之后才能上屏幕；填充用fill才能上屏幕。</p>
<h2 id="3-绘制路径"><a href="#3-绘制路径" class="headerlink" title="3. 绘制路径"></a>3. 绘制路径</h2><p>使用 <code>beginPath()</code> 代表开始绘制；<code>moveTo(x, y)</code> 代表将笔触移动到某一坐标；<code>lineTo(x, y)</code> 代表直线绘制到某一点；使用 <code>stroke()</code> 能将绘制的图像显示出来。</p>
<p>如下可以绘制出一条折线：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">ctx.<span class="title function_">moveTo</span>(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">ctx.<span class="title function_">lineTo</span>(<span class="number">300</span>, <span class="number">300</span>);</span><br><span class="line">ctx.<span class="title function_">lineTo</span>(<span class="number">600</span>, <span class="number">300</span>);</span><br><span class="line">ctx.<span class="title function_">stroke</span>();</span><br></pre></td></tr></table></figure>
<p><img src="https://ws1.sinaimg.cn/large/a71efaafly1g2lpbjrdg2j20es086q2s.jpg" alt=""></p>
<p>使用 <code>closePath()</code> 可以将最后一个绘制点【该绘制点是被用<code>moveTo(x, y)</code>打断绘制前的那个点】与第一个绘制点连接：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">  ctx.<span class="title function_">moveTo</span>(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">  ctx.<span class="title function_">lineTo</span>(<span class="number">300</span>, <span class="number">300</span>);</span><br><span class="line">  ctx.<span class="title function_">lineTo</span>(<span class="number">600</span>, <span class="number">300</span>);</span><br><span class="line">+ ctx.<span class="title function_">closePath</span>();</span><br><span class="line">  ctx.<span class="title function_">stroke</span>();</span><br></pre></td></tr></table></figure>
<p><img src="https://ws1.sinaimg.cn/large/a71efaafly1g2lpe43stnj20eq07jjr9.jpg" alt=""></p>
<p>连续使用 <code>moveTo()</code> 可以让开始新的绘制点：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">ctx.<span class="title function_">moveTo</span>(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">ctx.<span class="title function_">lineTo</span>(<span class="number">300</span>, <span class="number">300</span>);</span><br><span class="line">ctx.<span class="title function_">lineTo</span>(<span class="number">600</span>, <span class="number">300</span>);</span><br><span class="line"></span><br><span class="line">ctx.<span class="title function_">moveTo</span>(<span class="number">600</span>, <span class="number">400</span>);</span><br><span class="line">ctx.<span class="title function_">lineTo</span>(<span class="number">700</span>, <span class="number">400</span>);</span><br><span class="line">ctx.<span class="title function_">stroke</span>();</span><br></pre></td></tr></table></figure>

<p><img src="https://ws1.sinaimg.cn/large/a71efaafly1g2lpg9p7m3j20h009dwed.jpg" alt=""></p>
<h2 id="4-绘制样式"><a href="#4-绘制样式" class="headerlink" title="4. 绘制样式"></a>4. 绘制样式</h2><p>在绘制前可以对绘制的线段进行样式设置：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ctx.<span class="property">lineWidth</span> = <span class="string">&quot;10&quot;</span>;</span><br><span class="line">ctx.<span class="property">strokeStyle</span> = <span class="string">&quot;red&quot;</span>;</span><br><span class="line">... ...</span><br><span class="line">ctx.<span class="title function_">stock</span>();</span><br></pre></td></tr></table></figure>

<p><img src="https://ws1.sinaimg.cn/large/a71efaafly1g2lpw1q9aqj20hk0a9a9y.jpg" alt=""></p>
<p>在绘制之后，使用 <code>fill()</code> 可以填充封闭图像（如果没有封闭也会自动封闭）的颜色，设置 <code>fillStyle</code> 属性可以来设置填充颜色：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">... ...</span><br><span class="line">ctx.<span class="title function_">stock</span>();</span><br><span class="line">ctx.<span class="property">fillStyle</span> = <span class="string">&quot;skyblue&quot;</span></span><br><span class="line">ctx.<span class="title function_">fill</span>();</span><br></pre></td></tr></table></figure>

<p><img src="https://ws1.sinaimg.cn/large/a71efaafly1g2lq0n8juzj20hh09wmx4.jpg" alt=""></p>
<p>使用了 <code>fill()</code> 之后，Canvas会自动认为之前的绘制操已经绘制了一个独立的图形。</p>
<h2 id="6-快速绘制"><a href="#6-快速绘制" class="headerlink" title="6. 快速绘制"></a>6. 快速绘制</h2><p><code>strokeReact(x, y, w, h)</code>快速绘制一个矩形</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ctx.<span class="property">fillStyle</span> = <span class="string">&quot;lightseagreen&quot;</span></span><br><span class="line">ctx.<span class="title function_">strokeReact</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">300</span>, <span class="number">200</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://ws1.sinaimg.cn/large/a71efaafly1g2lqaiu2eoj20b706xt8j.jpg" alt=""></p>
<p>filRecto是一个快捷方法，让你省略了beginPath、move To、lineTo。所以fillRect（100，100，300，200）等价于：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ctx.<span class="title function_">move</span>(<span class="number">100</span>，<span class="number">100</span>);</span><br><span class="line">ctx.<span class="title function_">lineTo</span>(<span class="number">400</span>，<span class="number">100</span>);</span><br><span class="line">ctx.<span class="title function_">lineTo</span>(<span class="number">400</span>，<span class="number">300</span>);</span><br><span class="line">ctx.<span class="title function_">lineTo</span>(<span class="number">100</span>，<span class="number">300</span>);</span><br><span class="line">ctx.<span class="property">closePath</span>（);</span><br><span class="line">ctx.<span class="title function_">fill</span>();</span><br></pre></td></tr></table></figure>

<h2 id="6-绘制复杂图像"><a href="#6-绘制复杂图像" class="headerlink" title="6. 绘制复杂图像"></a>6. 绘制复杂图像</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">500</span>; i += <span class="number">10</span>) &#123;</span><br><span class="line">  ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">  ctx.<span class="title function_">moveTo</span>(i, i);</span><br><span class="line">  ctx.<span class="title function_">lineTo</span>(i + <span class="number">200</span>, i);</span><br><span class="line">  ctx.<span class="title function_">lineTo</span>(i, i + <span class="number">300</span>);</span><br><span class="line">  ctx.<span class="title function_">closePath</span>();</span><br><span class="line">  ctx.<span class="title function_">stroke</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://ws1.sinaimg.cn/large/a71efaafly1g2lqfwcsqoj20js0edmxi.jpg" alt=""></p>
<h2 id="7-API"><a href="#7-API" class="headerlink" title="7. API"></a>7. API</h2><p>方法:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">beginPath() 代表开始绘制</span><br><span class="line"></span><br><span class="line">moveTo(x, y) 代表将笔触移动到某一坐标</span><br><span class="line"></span><br><span class="line">lineTo(x, y) 代表直线绘制到某一点</span><br><span class="line"></span><br><span class="line">stroke() 能将绘制的图像显示出来</span><br><span class="line"></span><br><span class="line">fill() 可以填充封闭图像</span><br></pre></td></tr></table></figure>

<p>属性：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">lineWidth 设置绘制线的宽度</span><br><span class="line"></span><br><span class="line">strokeStyle 设置绘制线的颜色样式</span><br><span class="line"></span><br><span class="line">fillStyle 设置填充色的样式</span><br></pre></td></tr></table></figure>

<p><img src="https://ws1.sinaimg.cn/large/a71efaafly1g2lpnbvtz1j20ny0budhr.jpg" alt=""></p>
<h1 id="弧"><a href="#弧" class="headerlink" title="弧"></a>弧</h1><h2 id="1-绘制弧线"><a href="#1-绘制弧线" class="headerlink" title="1. 绘制弧线"></a>1. 绘制弧线</h2><p>使用 <code>arc(x, y, r, startRad, endRad, bollen)</code> 绘制弧线，arc属于笔触，需要使用<code>beginPath()</code>和<code>stroke()</code>来设置开始与绘制动作。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">ctx.<span class="title function_">arc</span>(<span class="number">200</span>, <span class="number">200</span>, <span class="number">100</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="literal">true</span>);</span><br><span class="line">ctx.<span class="title function_">stroke</span>();</span><br></pre></td></tr></table></figure>

<p><img src="https://ws1.sinaimg.cn/large/a71efaafly1g2ly5tu2fnj20bj08jjrg.jpg" alt=""></p>
<p>整圆就是 <code>ctx.arc(200, 200, 100, 0, Math.PI*2, true);</code></p>
<p>绘制笑脸的方法：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">width</span>=<span class="string">&quot;800px&quot;</span> <span class="attr">height</span>=<span class="string">&quot;500px&quot;</span>&gt;</span>对不起您的浏览器不支持画布！<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 得到画布</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> myCanvas = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#myCanvas&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 上下文，就相当于打开ps之后让你新建画布</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> ctx = myCanvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 开始绘制路径</span></span></span><br><span class="line"><span class="language-javascript">  ctx.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">  ctx.<span class="title function_">arc</span>(<span class="number">200</span>, <span class="number">200</span>, <span class="number">200</span>, <span class="number">0</span>, <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">2</span>, <span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript">  ctx.<span class="title function_">stroke</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  ctx.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">  ctx.<span class="title function_">arc</span>(<span class="number">90</span>, <span class="number">140</span>, <span class="number">30</span>, <span class="number">0</span>, <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">2</span>, <span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript">  ctx.<span class="title function_">stroke</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  ctx.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">  ctx.<span class="title function_">arc</span>(<span class="number">300</span>, <span class="number">140</span>, <span class="number">30</span>, <span class="number">0</span>, <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">2</span>, <span class="literal">true</span>);</span></span><br><span class="line"><span class="language-javascript">  ctx.<span class="title function_">stroke</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  ctx.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">  ctx.<span class="title function_">arc</span>(<span class="number">200</span>, <span class="number">200</span>, <span class="number">100</span>, <span class="number">0.6</span>, <span class="number">2.5</span>, <span class="literal">false</span>);</span></span><br><span class="line"><span class="language-javascript">  ctx.<span class="title function_">stroke</span>();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://ws1.sinaimg.cn/large/a71efaafly1g2lyb1ahmfj20bc0bt0sz.jpg" alt=""></p>
<h2 id="2-API"><a href="#2-API" class="headerlink" title="2. API"></a>2. API</h2><p>方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arc(x, y, r, startRad, endRad, bollen) </span><br><span class="line">绘制弧度，xy为圆心坐标，r为绘制半径，startRad为初始角度，endRad为最终角度，bollen设置为true为逆时针绘制false为顺时针绘制</span><br></pre></td></tr></table></figure>





<h1 id="绘制渐变"><a href="#绘制渐变" class="headerlink" title="绘制渐变"></a>绘制渐变</h1><h2 id="1-创建渐变色"><a href="#1-创建渐变色" class="headerlink" title="1. 创建渐变色"></a>1. 创建渐变色</h2><p>使用 <code>createLinearrGradient(x1, y1, x2, y2)</code> 创建一个渐变对象，用 <code>addColorStop(rate, color)</code> 添加渐变颜色，将画布的 <code>fillStyle</code> 属性设置为这个渐变对象，即可以填充渐变颜色。</p>
<p>如绘制一个矩形，矩形内的填充色为从<code>blue</code>渐变到<code>red</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lingrad = ctx.<span class="title function_">createLinearGradient</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">400</span>, <span class="number">400</span>);</span><br><span class="line">lingrad.<span class="title function_">addColorStop</span>(<span class="number">0</span>, <span class="string">&#x27;red&#x27;</span>);</span><br><span class="line">lingrad.<span class="title function_">addColorStop</span>(<span class="number">1</span>, <span class="string">&#x27;blue&#x27;</span>);</span><br><span class="line"></span><br><span class="line">ctx.<span class="property">fillStyle</span> = lingrad;</span><br><span class="line">ctx.<span class="title function_">fillRect</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">300</span>, <span class="number">300</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://ws1.sinaimg.cn/large/a71efaafly1g2lzazsgdcj20es0erglz.jpg" alt=""></p>
<h2 id="2-API-1"><a href="#2-API-1" class="headerlink" title="2. API"></a>2. API</h2><p>方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">createLinearrGradient(x1, y1, x2, y2) </span><br><span class="line">创建一个渐变对象，(x1, y1)是渐变的起始坐标，(x2, y2)是渐变的结束坐标</span><br><span class="line"></span><br><span class="line">addColorStop(rate, color)</span><br><span class="line">添加渐变颜色，rate为一个int值，初始值为0，colr为一个颜色</span><br></pre></td></tr></table></figure>







<h1 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h1><h2 id="1-添加文字"><a href="#1-添加文字" class="headerlink" title="1. 添加文字"></a>1. 添加文字</h2><p>使用 <code>fillText(content, x, y)</code> 来设置文字，注意(x, y)为文字基线的位置</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.<span class="title function_">fillText</span>(<span class="string">&quot;你好&quot;</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br></pre></td></tr></table></figure>

<h2 id="2-调整样式"><a href="#2-调整样式" class="headerlink" title="2. 调整样式"></a>2. 调整样式</h2><p>通过 <code>font</code> 属性来设置字体、字号</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.<span class="property">font</span> = <span class="string">&quot;宋体&quot;</span></span><br></pre></td></tr></table></figure>
<p><code>font</code> 的级联样式 <code>ctx.font = &quot;font-size font-family&quot;</code></p>
<h1 id="使用图片"><a href="#使用图片" class="headerlink" title="使用图片"></a>使用图片</h1><h2 id="1-添加图片"><a href="#1-添加图片" class="headerlink" title="1. 添加图片"></a>1. 添加图片</h2><p>添加一个图片首先要创建一个<code>img</code>的实例，设置实例的<code>src</code>，监听这个实例的load事件，当图片加载完成后，利用 <code>drawImage(img, x, y)</code> 绘制出图片，如下实例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">img.<span class="property">src</span> = <span class="string">&quot;images/0.jpg&quot;</span>;</span><br><span class="line">img.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  ctx.<span class="title function_">drawImage</span>(img, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-API-2"><a href="#2-API-2" class="headerlink" title="2. API"></a>2. API</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">drawImage(img, x, y, w, h) </span><br><span class="line">img为一个图片示例，xy为图片左上角坐标，w为图片宽度，h为图片高度</span><br><span class="line"></span><br><span class="line">drawImage(img, X, Y, W, H, x, y, w, h) </span><br><span class="line">img为一个图片示例，XYWH可以设置图片的切片位置</span><br></pre></td></tr></table></figure>


<h1 id="运动"><a href="#运动" class="headerlink" title="运动"></a>运动</h1><h2 id="1-原理"><a href="#1-原理" class="headerlink" title="1. 原理"></a>1. 原理</h2><p>canvas中元素不能运动，因为上屏幕之后就再也得不到它了，没有任何变量可以持有。</p>
<p>所以必须通过重绘一个新的矩形，利用视觉暂留，形成运动。</p>
<p>清屏 → 更新 → 渲染 → 清屏 → 更新 → 渲染 → …</p>
<p>清屏：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">800</span>, <span class="number">600</span>)</span><br></pre></td></tr></table></figure>

<h2 id="2-面向对象制变成作运动函数"><a href="#2-面向对象制变成作运动函数" class="headerlink" title="2. 面向对象制变成作运动函数"></a>2. 面向对象制变成作运动函数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Circle</span>(<span class="params">x, y, r, color</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">r</span> = r;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">color</span> = color;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Circle</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">render</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">  ctx.<span class="title function_">arc</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>, <span class="variable language_">this</span>.<span class="property">r</span>, <span class="number">0</span>, <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">2</span>, <span class="literal">true</span>);</span><br><span class="line">  ctx.<span class="property">fillStyle</span> = <span class="variable language_">this</span>.<span class="property">color</span>;</span><br><span class="line">  ctx.<span class="title function_">fill</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Circle</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">update</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">x</span> += <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> yuan = <span class="keyword">new</span> <span class="title class_">Circle</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">60</span>, <span class="string">&quot;blue&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">800</span>, <span class="number">600</span>)</span><br><span class="line">  yuan.<span class="title function_">update</span>();</span><br><span class="line">  yuan.<span class="title function_">render</span>();</span><br><span class="line">&#125;, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://ws1.sinaimg.cn/large/a71efaafly1g2m0noi2byg20jo0czwf3.gif" alt=""></p>
<h2 id="3-使用ES6来详细来面向对象编程编写动画函数"><a href="#3-使用ES6来详细来面向对象编程编写动画函数" class="headerlink" title="3. 使用ES6来详细来面向对象编程编写动画函数"></a>3. 使用ES6来详细来面向对象编程编写动画函数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 接口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Actor</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    actorsArr.<span class="title function_">push</span>(<span class="variable language_">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;所有演员必须重写render函数&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">update</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 留空为非必须定义项</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 圆类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Actor</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">x, y, r, color</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">r</span> = r;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">color</span> = color;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">    ctx.<span class="title function_">arc</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>, <span class="variable language_">this</span>.<span class="property">r</span>, <span class="number">0</span>, <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">2</span>, <span class="literal">true</span>);</span><br><span class="line">    ctx.<span class="property">fillStyle</span> = <span class="variable language_">this</span>.<span class="property">color</span>;</span><br><span class="line">    ctx.<span class="title function_">fill</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">update</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span>++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 所有演员的数组</span></span><br><span class="line"><span class="keyword">var</span> actorsArr = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> yuan = <span class="keyword">new</span> <span class="title class_">Circle</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">50</span>, <span class="string">&quot;red&quot;</span>);</span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">800</span>, <span class="number">600</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; actorsArr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    actorsArr[i].<span class="title function_">update</span>();</span><br><span class="line">    actorsArr[i].<span class="title function_">render</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, <span class="number">20</span>);</span><br></pre></td></tr></table></figure></div></article><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8/">快速使用</a><a class="post-meta__tags" href="/tags/HTML5/">HTML5</a></div><div class="addthis_inline_share_toolbox pull-right"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-62c7f2684e36ba34" async></script><nav id="pagination"><div class="prev-post pull-left"><a href="/2019/05/9cb8ab68fd27.html"><i class="fa fa-chevron-left">  </i><span>关于构造函数和原型链运行机制的试题与知识点</span></a></div><div class="next-post pull-right"><a href="/2019/05/da9549a02ea7.html"><span>React学习笔记04：Redux实战</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="disqus_thread"></div><script>var unused = null;
var disqus_config = function () {
  this.page.url = 'https://blog.esunr.site/2019/05/128690296586.html';
  this.page.identifier = '2019/05/128690296586.html';
  this.page.title = 'Canvas快速使用教程';
}
var d = document, s = d.createElement('script');
s.src = "https://" + 'esunr-blog' +".disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script><script id="dsq-count-scr" src="https://esunr-blog.disqus.com/count.js" async></script></div></div><footer class="footer-bg" style="background-image: url(https://esunr-webapp.cdn.bcebos.com/blog/background.png?x-bce-process=image/quality,q_80/format,f_auto)"><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2025 By EsunR</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">hitokoto</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>